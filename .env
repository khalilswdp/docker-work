# ============================================================
# Registry (keep this for future internal mirror)
# - Outside company: docker.io
# - Inside company: something like artifactory.company.tld/docker-remote
# IMPORTANT: do NOT include https://
# ============================================================
REGISTRY_PREFIX=docker.io

# Images
KAFKA_IMAGE=apache/kafka
KAFKA_TAG=latest

KAFKA_UI_IMAGE=provectuslabs/kafka-ui
KAFKA_UI_TAG=latest

# ============================================================
# Ports / hostnames
# ============================================================
KAFKA_HOSTNAME=kafka
KAFKA_EXTERNAL_HOST=localhost

# Host port exposed for external clients
KAFKA_EXTERNAL_HOST_PORT=29092

# Kafka UI
KAFKA_UI_PORT=8080

# ============================================================
# KRaft / broker identity
# ============================================================
KAFKA_NODE_ID=1
# Optional: fixed cluster id (if set, avoids random IDs across wipes)
# If you don't care, leave empty and Kafka will generate one.
KAFKA_CLUSTER_ID=

# ============================================================
# Listener names & ports (inside container)
# - INTERNAL is for docker network (kafka:19092)
# - EXTERNAL is for host mapping (localhost:29092 -> container:9092)
# - CONTROLLER is for KRaft controller (9093)
# ============================================================
INTERNAL_LISTENER_NAME=INTERNAL
INTERNAL_LISTENER_PORT=19092

EXTERNAL_LISTENER_NAME=EXTERNAL
EXTERNAL_LISTENER_PORT=9092

CONTROLLER_LISTENER_NAME=CONTROLLER
CONTROLLER_LISTENER_PORT=9093

# External listener protocol:
# - PLAINTEXT (no auth)
# - SASL_PLAINTEXT (SCRAM)
EXTERNAL_SECURITY_PROTOCOL=SASL_PLAINTEXT

# ============================================================
# Security toggles (defaults are "like your original": SCRAM + authorizer)
# ============================================================
ENABLE_SASL=true
ENABLE_AUTHORIZER=true

#ENABLE_SASL=false
#ENABLE_AUTHORIZER=false
#EXTERNAL_SECURITY_PROTOCOL=PLAINTEXT
#ALLOW_EVERYONE_IF_NO_ACL_FOUND=true
#APPLY_ACLS=false

# SCRAM mechanism
SASL_MECHANISM=SCRAM-SHA-512

# App credentials (SCRAM user) created/updated by init.sh
APP_USER=kafka_app
APP_PASS=kafka_app_password

# ACL / superusers
ALLOW_EVERYONE_IF_NO_ACL_FOUND=false
SUPER_USERS=User:ANONYMOUS;User:kafka_app

# Consumer group (for optional group ACL)
APP_GROUP=kafka_app_group

# ============================================================
# Broker defaults
# ============================================================
AUTO_CREATE_TOPICS=false
NUM_PARTITIONS=3
LOG_RETENTION_HOURS=168

# Single-node required overrides (because apache/kafka defaults are disabled when overriding)
OFFSETS_TOPIC_REPLICATION_FACTOR=1
TXN_STATE_LOG_REPLICATION_FACTOR=1
TXN_STATE_LOG_MIN_ISR=1
GROUP_INITIAL_REBALANCE_DELAY_MS=0

# ============================================================
# init.sh behavior: topics + ACLs
# ============================================================
BOOTSTRAP_INTERNAL=kafka:19092

TOPIC_1=topic_one
TOPIC_2=topic_two
TOPIC_PARTITIONS=3
TOPIC_RF=1

# Optional: make init.sh apply ACLs for topics/groups (only meaningful if ENABLE_AUTHORIZER=true)
APPLY_ACLS=true

# ============================================================
# Kafka UI web auth (this is UI login, NOT Kafka auth)
# ============================================================
KAFKA_UI_AUTH_TYPE=DISABLED   # DISABLED or LOGIN_FORM
KAFKA_UI_USER=admin
KAFKA_UI_PASSWORD=admin123
